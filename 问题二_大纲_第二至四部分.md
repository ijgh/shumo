# 问题二：源域故障诊断 — 大纲（第二至第四部分）

## 第二部分 技术路线与方法

### (1) 特征分析与优选
- **第一阶段：统计方法初筛**
  - **ANOVA F 检验**：衡量特征在不同类别之间的显著性差异；
  - **相关系数分析**：Pearson（线性相关）、Spearman（单调相关）；
  - **排序与融合（Borda 计数法）**：
    - 分别得到 ANOVA、Pearson、Spearman 的特征重要性排序；
    - 使用 **Borda 计数法** 融合三种排序；
    - 选择 **前 20 个** 重要性特征作为候选集。

- **第二阶段：机器学习方法精筛**
  - **随机森林（RF）特征重要性**：基于平均不纯度减少（MDI）；
  - **LightGBM 特征重要性**：基于信息增益（Gain）；
  - **排序与融合（Borda 计数法）**：
    - 分别得到 RF 与 LightGBM 的特征排序；
    - 使用 **Borda 计数法** 融合两种排序；
    - 选择 **前 10 个** 核心特征作为最终建模输入。

- **产出物**
  - 特征重要性排序图（统计/模型两阶段）；
  - 特征相关性热力图；
  - 最终优选特征列表（约 10 个）。

---

### (2) 特征空间可视化
- 使用 **t-SNE 降维** 对优选后的特征进行二维可视化；
- 按故障类别着色，观察类别间的分离度；
- **产出物**：特征空间分布图。

---

### (3) 数据集划分
- **分层随机抽样**：保持各类别比例一致；
- **多次划分**：采用 7:3、8:2 等不同训练/测试比例；
- **复合验证策略**：多次随机划分 + K 折交叉验证；
- **产出物**：训练集与测试集拆分方案，保证稳健性。

---

### (4) 多模型并行构建
- **经典模型**：支持向量机（SVM）、随机森林（RF）；
- **集成学习模型**：XGBoost、LightGBM；
- **深度学习模型**：多层感知机（MLP）、一维卷积神经网络（1D-CNN）、长短期记忆网络（LSTM）。
- **产出物**：七类待评估模型的配置说明。

---

### (5) 模型训练与验证（含调参）
- **验证策略**
  - 多次随机划分实验（确保稳定性）；
  - K 折交叉验证作为理论支撑。
- **超参数调优**
  - **Grid Search**：小规模参数穷举；
  - **Random Search**：快速覆盖大参数空间；
  - **Bayesian Optimization**：复杂模型的全局最优参数搜索。
- **产出物**
  - 各模型的 **最优参数表**（示例字段：SVM 核函数/惩罚系数，XGBoost 的 `max_depth`/`learning_rate`，1D-CNN 的卷积核大小/步幅/学习率等）。

---

### (6) 结果分析与对比
- **指标对比**：Accuracy、Precision、Recall、F1、MCC；
- **可视化**
  - 模型性能对比图（柱状图/折线图）；
  - 不同训练比例下的性能趋势图；
  - 最优与次优模型的混淆矩阵；
  - 深度学习模型的训练过程曲线（损失与准确率）。
- **鲁棒性测试**
  - 在测试集特征上叠加不同强度的高斯噪声；
  - 绘制性能衰减曲线，比较鲁棒性。

---

### (7) 最优模型确定与解释
- **确定最优模型**：综合准确率、稳定性、抗噪性；
- **可解释性分析**
  - 使用 **SHAP 值** 解释特征贡献度；
  - 输出全局重要性条形图与局部样本的 SHAP 蜂群图；
- **产出物**：最终源域诊断模型 + 可解释性分析结果。

---

## 第三部分 实验评价指标

1. **准确率（Accuracy）**：整体分类正确率。
2. **精确率（Precision）**：预测为某类的样本中有多少是真实该类。
3. **召回率（Recall）**：真实某类样本中有多少被正确识别。
4. **F1 分数（F1-score）**：精确率与召回率的调和平均。
5. **马修斯相关系数（MCC）**：综合 TP/TN/FP/FN，适合类别不均衡，取值 [-1, 1]。
6. **宏平均（Macro-Average）**：各类别指标的算术平均，平等对待每个类别。

---

## 第四部分 实验结果与小结

1. **多模型对比结果**
   - 在统一验证框架下给出各模型（SVM、RF、XGBoost、LightGBM、MLP、1D-CNN、LSTM）的 Accuracy、F1、MCC 等 **平均值 ± 标准差**；
   - 使用柱状图/折线图可视化各模型性能。

2. **最优模型表现**
   - 结合混淆矩阵展示四类故障的识别效果；
   - 总结最优模型在准确率、鲁棒性、泛化性上的综合优势。

3. **鲁棒性实验结果**
   - 随噪声强度增加的性能衰减曲线；
   - 对比不同模型的抗噪能力。

4. **可解释性分析结果**
   - 基于 SHAP 的全局/局部解释，指出关键特征对分类的影响方向与大小；
   - 增强模型的可解释性与可信度。

5. **小结**
   - 问题二完成了从特征优选 → 多模型构建 → 调参与验证 → 对比与解释的完整闭环；
   - 得到的最优源域诊断模型及其参数设置，为问题三（迁移诊断）提供了坚实基础。
